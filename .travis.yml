language: csharp
sudo: required
dist: trusty
mono: none
dotnet: 2.1

addons:
  sonarcloud:
    organization: "kashinoleg"

git:
  depth: false

before_script:
  - dotnet restore

script:
  - dotnet build ./silver-horn-cloo-tests -c Release -f netcoreapp2.1
  - sonar-scanner -Dsonar.projectVersion=1.0.$TRAVIS_BUILD_NUMBER

cache:
  directories:
    - '$HOME/.sonar/cache'
